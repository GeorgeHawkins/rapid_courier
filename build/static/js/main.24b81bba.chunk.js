(this.webpackJsonprapid=this.webpackJsonprapid||[]).push([[0],{19:function(e,t,s){},22:function(e,t,s){"use strict";s.r(t);var n=s(0),a=s(1),c=s.n(a),r=s(11),i=s.n(r),o=s(3),d=s(4),p=s(6),l=s(5),j=s(13),u=(s(19),s.p+"static/media/Logo.5d30a3d0.svg"),b=s(7),h=s.n(b),O=s(8),f=s(12),m=function(e){Object(p.a)(s,e);var t=Object(l.a)(s);function s(){return Object(o.a)(this,s),t.apply(this,arguments)}return Object(d.a)(s,[{key:"render",value:function(){return Object(n.jsx)("button",{type:"button",disabled:this.props.disabled,className:this.props.className,onClick:this.props.onClick,children:this.props.text})}}]),s}(a.Component),x=s(2),g=new function e(){Object(o.a)(this,e),Object(x.g)(this,{isLoggedIn:!1})},v=function(e){Object(p.a)(s,e);var t=Object(l.a)(s);function s(){var e;Object(o.a)(this,s);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={username:"",password:""},e.onChange=function(t){e.setState(Object(f.a)({},t.target.name,t.target.value))},e}return Object(d.a)(s,[{key:"resetForm",value:function(){this.setState({username:"",password:""})}},{key:"doLogin",value:function(){var e=Object(O.a)(h.a.mark((function e(){var t,s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.state.username&&this.state.password){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,fetch("/login",{method:"post",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({username:this.state.username,password:this.state.password})});case 5:return t=e.sent,e.next=8,t.json();case 8:(s=e.sent)&&s.success?g.isLoggedIn=!0:s&&!1===s.success&&(this.resetForm(),alert(s.msg)),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),console.log(e.t0),this.resetForm();case 16:case"end":return e.stop()}}),e,this,[[2,12]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return Object(n.jsxs)("form",{className:"LoginForm",children:[Object(n.jsx)("input",{type:"text",placeholder:"Username",value:this.state.username,name:"username",className:"InputField",autoComplete:"off",onChange:this.onChange}),Object(n.jsx)("input",{type:"password",placeholder:"Password",value:this.state.password,name:"password",className:"InputField",onChange:this.onChange}),Object(n.jsx)(m,{text:"SIGN IN",disabled:this.state.username<1||this.state.password<1,className:"SignInButton",onClick:function(){return e.doLogin()}})]})}}]),s}(a.Component),y=s.p+"static/media/Pickup.493422d4.svg",k=s.p+"static/media/Dropoff.335e6cf4.svg",N=s.p+"static/media/Pays.5d612c9a.svg",J=function(e){Object(p.a)(s,e);var t=Object(l.a)(s);function s(){var e;Object(o.a)(this,s);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).acceptJob=function(){e.props.acceptJob(e.props.id)},e}return Object(d.a)(s,[{key:"render",value:function(){return Object(n.jsxs)("div",{children:[Object(n.jsxs)("div",{className:"JobCard",children:[Object(n.jsx)("h1",{children:"Job"}),Object(n.jsx)("div",{className:"JobDetails",children:Object(n.jsx)("table",{children:Object(n.jsxs)("tbody",{children:[Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{rowSpan:"2",children:Object(n.jsx)("img",{src:y,alt:"Pickup",className:"JobIcons"})}),Object(n.jsxs)("td",{children:[Object(n.jsx)("span",{className:"JobDetailsGrey",children:"Pickup from "}),this.props.pickupAdd1]})]}),Object(n.jsx)("tr",{children:Object(n.jsx)("td",{children:this.props.pickupAdd2})})]})})}),Object(n.jsx)("div",{className:"JobDetails",children:Object(n.jsx)("table",{children:Object(n.jsxs)("tbody",{children:[Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{rowSpan:"2",children:Object(n.jsx)("img",{src:k,alt:"Dropoff",className:"JobIcons"})}),Object(n.jsxs)("td",{children:[Object(n.jsx)("span",{className:"JobDetailsGrey",children:"Drop-off at "}),this.props.dropoffAdd1]})]}),Object(n.jsx)("tr",{children:Object(n.jsx)("td",{children:this.props.dropoffAdd2})})]})})}),Object(n.jsx)("div",{className:"JobDetails",children:Object(n.jsx)("table",{children:Object(n.jsx)("tbody",{children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:Object(n.jsx)("img",{src:N,alt:"$",className:"JobIcons",style:{padding:"0 12px 0 6px"}})}),Object(n.jsxs)("td",{children:[Object(n.jsx)("span",{className:"JobDetailsGrey",children:"Pays "}),"$",this.props.pays]})]})})})})]}),Object(n.jsx)("div",{className:"AcceptCard",children:Object(n.jsx)(m,{text:"Accept",disabled:!1,className:"AcceptButton",onClick:this.acceptJob})})]})}}]),s}(a.Component),C=function(e){Object(p.a)(s,e);var t=Object(l.a)(s);function s(){var e;Object(o.a)(this,s);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={jobs:[],isLoaded:!1},e.acceptJob=function(t){try{fetch("/accept",{method:"put",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:t})}).then((function(e){return e.json()})).then((function(t){t&&t.success?e.getJobs().then(e.setState({isLoaded:!0})):t&&!1===t.success&&alert(t.msg)}))}catch(s){console.log(s)}},e}return Object(d.a)(s,[{key:"getJobs",value:function(){var e=Object(O.a)(h.a.mark((function e(){var t,s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,g.isLoggedIn){e.next=4;break}return console.log("User is not logged in"),e.abrupt("return",!1);case 4:return this.setState({isLoaded:!1}),e.next=7,new Promise((function(e){return setTimeout(e,1e3)}));case 7:return e.next=9,fetch("/jobs",{method:"get",headers:{"Content-Type":"application/json"}});case 9:return t=e.sent,e.next=12,t.json();case 12:(s=e.sent).length>0?this.setState({jobs:s,isLoaded:!0}):s&&!1===s.success&&this.setState({jobs:[],isLoaded:!0}),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),console.log(e.t0);case 19:case"end":return e.stop()}}),e,this,[[0,16]])})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=Object(O.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.getJobs();case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"renderJobs",value:function(){var e=this;return this.state.jobs.map((function(t){return Object(n.jsx)(J,{id:t.id,pickupAdd1:t.pickupAdd1,pickupAdd2:t.pickupAdd2,dropoffAdd1:t.dropoffAdd1,dropoffAdd2:t.dropoffAdd2,pays:t.pays,acceptJob:e.acceptJob},t.id)}))}},{key:"render",value:function(){return this.state.isLoaded?this.state.isLoaded&&this.state.jobs.length<1?Object(n.jsx)("div",{className:"JobScreen",children:"No available jobs, check back later"}):Object(n.jsx)("div",{className:"JobScreen",children:this.renderJobs()}):Object(n.jsx)("div",{className:"JobScreen",children:"Loading Available Jobs..."})}}]),s}(a.Component),w=function(e){Object(p.a)(s,e);var t=Object(l.a)(s);function s(){return Object(o.a)(this,s),t.apply(this,arguments)}return Object(d.a)(s,[{key:"render",value:function(){return g.isLoggedIn?Object(n.jsxs)("div",{className:"Main",children:[Object(n.jsxs)("div",{className:"HeaderBar",children:[Object(n.jsx)("img",{src:u,alt:"Rapid Courier Logo",className:"Logo"}),Object(n.jsx)("span",{children:"Rapid Courier"})]}),Object(n.jsx)(C,{})]}):Object(n.jsxs)("div",{className:"Main",children:[Object(n.jsxs)("div",{className:"Header",children:[Object(n.jsx)("img",{src:u,alt:"Rapid Courier Logo",className:"Logo"}),Object(n.jsx)("span",{children:"Rapid Courier"})]}),Object(n.jsx)(v,{})]})}}]),s}(a.Component),L=Object(j.a)(w),A=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,23)).then((function(t){var s=t.getCLS,n=t.getFID,a=t.getFCP,c=t.getLCP,r=t.getTTFB;s(e),n(e),a(e),c(e),r(e)}))};i.a.render(Object(n.jsx)(c.a.StrictMode,{children:Object(n.jsx)(L,{})}),document.getElementById("root")),A()}},[[22,1,2]]]);
//# sourceMappingURL=main.24b81bba.chunk.js.map