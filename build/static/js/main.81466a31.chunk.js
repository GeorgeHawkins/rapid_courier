(this.webpackJsonprapid=this.webpackJsonprapid||[]).push([[0],{19:function(e,t,s){},22:function(e,t,s){"use strict";s.r(t);var a=s(0),n=s(1),c=s.n(n),r=s(11),i=s.n(r),o=s(3),d=s(4),l=s(6),p=s(5),u=s(13),j=(s(19),s.p+"static/media/Logo.5d30a3d0.svg"),b=s(7),h=s.n(b),m=s(8),x=s(12),f=function(e){Object(l.a)(s,e);var t=Object(p.a)(s);function s(){return Object(o.a)(this,s),t.apply(this,arguments)}return Object(d.a)(s,[{key:"render",value:function(){return Object(a.jsx)("button",{type:"button",disabled:this.props.disabled,className:this.props.className,onClick:this.props.onClick,children:this.props.text})}}]),s}(n.Component),O=s(2),v=new function e(){Object(o.a)(this,e),Object(O.g)(this,{isLoggedIn:!1})},g=function(e){Object(l.a)(s,e);var t=Object(p.a)(s);function s(){var e;Object(o.a)(this,s);for(var a=arguments.length,n=new Array(a),c=0;c<a;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={username:"",password:""},e.onChange=function(t){var s=t.target.value;s.length>12||e.setState(Object(x.a)({},t.target.name,s))},e}return Object(d.a)(s,[{key:"resetForm",value:function(){this.setState({username:"",password:""})}},{key:"doCreateAccount",value:function(){var e=Object(m.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("account made");case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"doLogin",value:function(){var e=Object(m.a)(h.a.mark((function e(){var t,s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.state.username&&this.state.password){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,fetch("/login",{method:"post",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({username:this.state.username,password:this.state.password})});case 5:return t=e.sent,e.next=8,t.json();case 8:(s=e.sent)&&s.success?v.isLoggedIn=!0:s&&!1===s.success&&(this.resetForm(),alert(s.msg)),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),console.log(e.t0),this.resetForm();case 16:case"end":return e.stop()}}),e,this,[[2,12]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return Object(a.jsxs)("div",{children:[Object(a.jsxs)("form",{className:"LoginForm",children:[Object(a.jsx)("input",{type:"text",placeholder:"Username",value:this.state.username,name:"username",className:"InputField",autoComplete:"off",onChange:this.onChange}),Object(a.jsx)("input",{type:"password",placeholder:"Password",value:this.state.password,name:"password",className:"InputField",onChange:this.onChange}),Object(a.jsx)(f,{text:"SIGN IN",disabled:this.state.username<1||this.state.password<1,className:"SignInButton",onClick:function(){return e.doLogin()}})]}),Object(a.jsxs)("div",{style:{width:"40%",margin:"auto",fontSize:"18px"},children:["Test Login Users",Object(a.jsxs)("div",{className:"TestUsersHeader",style:{borderBottom:"1px solid #ccc"},children:[Object(a.jsx)("div",{className:"TestUsersText",children:"Username"}),Object(a.jsx)("div",{className:"TestUsersText",children:"Password"})]}),Object(a.jsxs)("div",{className:"TestUsersHeader",children:[Object(a.jsx)("div",{className:"TestUsersText",children:"test user"}),Object(a.jsx)("div",{className:"TestUsersText",children:"12345"})]}),Object(a.jsxs)("div",{className:"TestUsersHeader",children:[Object(a.jsx)("div",{className:"TestUsersText",children:"sam123"}),Object(a.jsx)("div",{className:"TestUsersText",children:"password"})]}),Object(a.jsxs)("div",{className:"TestUsersHeader",children:[Object(a.jsx)("div",{className:"TestUsersText",children:"icepack88"}),Object(a.jsx)("div",{className:"TestUsersText",children:"sheep1"})]})]})]})}}]),s}(n.Component),y=s.p+"static/media/Pickup.493422d4.svg",N=s.p+"static/media/Dropoff.335e6cf4.svg",k=s.p+"static/media/Pays.5d612c9a.svg",C=function(e){Object(l.a)(s,e);var t=Object(p.a)(s);function s(){var e;Object(o.a)(this,s);for(var a=arguments.length,n=new Array(a),c=0;c<a;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).acceptJob=function(){e.props.acceptJob(e.props.id)},e}return Object(d.a)(s,[{key:"render",value:function(){return Object(a.jsxs)("div",{children:[Object(a.jsxs)("div",{className:"JobCard",children:[Object(a.jsx)("h1",{children:"Job"}),Object(a.jsxs)("div",{className:"JobDetails",children:[Object(a.jsx)("img",{src:y,alt:"Pickup",className:"JobIcons"}),Object(a.jsxs)("div",{className:"JobDetailsFlexContainer",children:[Object(a.jsxs)("div",{children:[Object(a.jsx)("span",{className:"JobDetailsGrey",children:"Pickup from "}),this.props.pickupAdd1]}),Object(a.jsx)("div",{children:this.props.pickupAdd2})]})]}),Object(a.jsxs)("div",{className:"JobDetails",children:[Object(a.jsx)("img",{src:N,alt:"Dropoff",className:"JobIcons"}),Object(a.jsxs)("div",{className:"JobDetailsFlexContainer",children:[Object(a.jsxs)("div",{children:[Object(a.jsx)("span",{className:"JobDetailsGrey",children:"Drop-off at "}),this.props.dropoffAdd1]}),Object(a.jsx)("div",{children:this.props.dropoffAdd2})]})]}),Object(a.jsxs)("div",{className:"JobDetails",children:[Object(a.jsx)("img",{src:k,alt:"$",className:"JobIcons",style:{padding:"0 12px 0 5px"}}),Object(a.jsx)("span",{className:"JobDetailsGrey",children:"Pays "}),"$",this.props.pays]})]}),Object(a.jsx)("div",{className:"AcceptCard",children:Object(a.jsx)(f,{text:"ACCEPT",disabled:!1,className:"AcceptButton",onClick:this.acceptJob})})]})}}]),s}(n.Component),J=function(e){Object(l.a)(s,e);var t=Object(p.a)(s);function s(){var e;Object(o.a)(this,s);for(var a=arguments.length,n=new Array(a),c=0;c<a;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={jobs:[],isLoaded:!1},e.acceptJob=function(t){try{fetch("/accept",{method:"put",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:t})}).then((function(e){return e.json()})).then((function(t){t&&t.success?e.getJobs().then(e.setState({isLoaded:!0})):t&&!1===t.success&&alert(t.msg)}))}catch(s){console.log(s)}},e}return Object(d.a)(s,[{key:"getJobs",value:function(){var e=Object(m.a)(h.a.mark((function e(){var t,s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,v.isLoggedIn){e.next=4;break}return console.log("User is not logged in"),e.abrupt("return",!1);case 4:return this.setState({isLoaded:!1}),e.next=7,new Promise((function(e){return setTimeout(e,1e3)}));case 7:return e.next=9,fetch("/jobs",{method:"get",headers:{"Content-Type":"application/json"}});case 9:return t=e.sent,e.next=12,t.json();case 12:(s=e.sent).length>0?this.setState({jobs:s,isLoaded:!0}):s&&!1===s.success&&this.setState({jobs:[],isLoaded:!0}),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),console.log(e.t0);case 19:case"end":return e.stop()}}),e,this,[[0,16]])})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=Object(m.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.getJobs();case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"renderJobs",value:function(){var e=this;return this.state.jobs.map((function(t){return Object(a.jsx)(C,{id:t.id,pickupAdd1:t.pickupAdd1,pickupAdd2:t.pickupAdd2,dropoffAdd1:t.dropoffAdd1,dropoffAdd2:t.dropoffAdd2,pays:t.pays,acceptJob:e.acceptJob},t.id)}))}},{key:"render",value:function(){return this.state.isLoaded?this.state.isLoaded&&this.state.jobs.length<1?Object(a.jsx)("div",{className:"JobScreen",children:"No available jobs, check back later"}):Object(a.jsx)("div",{className:"JobScreen",children:this.renderJobs()}):Object(a.jsx)("div",{className:"JobScreen",children:"Loading Available Jobs..."})}}]),s}(n.Component),w=function(e){Object(l.a)(s,e);var t=Object(p.a)(s);function s(){return Object(o.a)(this,s),t.apply(this,arguments)}return Object(d.a)(s,[{key:"render",value:function(){return v.isLoggedIn?Object(a.jsxs)("div",{className:"Main",children:[Object(a.jsxs)("div",{className:"HeaderBar",children:[Object(a.jsx)("img",{src:j,alt:"Rapid Courier Logo",className:"Logo"}),Object(a.jsx)("span",{children:"Rapid Courier"})]}),Object(a.jsx)(J,{})]}):Object(a.jsxs)("div",{className:"Main",children:[Object(a.jsxs)("div",{className:"Header",children:[Object(a.jsx)("img",{src:j,alt:"Rapid Courier Logo",className:"Logo"}),Object(a.jsx)("span",{children:"Rapid Courier"})]}),Object(a.jsx)(g,{})]})}}]),s}(n.Component),T=Object(u.a)(w),L=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,23)).then((function(t){var s=t.getCLS,a=t.getFID,n=t.getFCP,c=t.getLCP,r=t.getTTFB;s(e),a(e),n(e),c(e),r(e)}))};i.a.render(Object(a.jsx)(c.a.StrictMode,{children:Object(a.jsx)(T,{})}),document.getElementById("root")),L()}},[[22,1,2]]]);
//# sourceMappingURL=main.81466a31.chunk.js.map